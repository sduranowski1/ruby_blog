<p style="color: green"><%= notice %></p>

<!-- Page Banner Start -->
<%= render 'shared/page_banner', title: "Blog" %>
<!-- Page Banner End -->

<!-- Blog Page Two Area start -->
<div class="blog-page-two pt-100 rpt-70">
    <div class="container">
        <div class="row gap-50">
            <div class="col-lg-8">
              <div id="posts">
                <% @posts.each do |post| %>
                  <%= render post %>
                <% end %>
              </div>
              <ul class="pagination flex-wrap justify-content-center wow fadeInUp delay-0-2s">
                <%= paginate @posts %>
              </ul>
            </div>
            <div class="col-lg-4 col-md-7 col-sm-9">
                <div class="main-sidebar rmt-65">
                    <div class="widget widget-search wow fadeInUp delay-0-2s">
                        <h5 class="widget-title">search here</h5>
                        <form action="<%= request.path %>" method="get" class="default-search-form">
                            <input type="text" name="query" placeholder="Search by title or content..." value="<%= params[:query] %>">
                            <button type="submit" class="searchbutton far fa-search"></button>
                      </form>
                    </div>
                    <div class="widget widget-category wow fadeInUp delay-0-4s">
                        <h5 class="widget-title">Catagories</h5>
                        <ul>
                        <% @categories.each do |category| %>
                            <li><%= link_to "#{category.name} (#{category.post_count || 0})".html_safe, posts_path(category_id: category.id, query: params[:query], page: 1) %></lis> <!-- Display the post count -->
                        <% end %>
                        </ul>
                    </div>
                    <div class="widget widget-tag-cloud wow fadeInUp delay-0-2s">
                        <h5 class="widget-title">Popular Tags</h5>
                        <div class="tag-coulds">
                            <% @tags.each do |tag| %>
                                <%= link_to tag.name, posts_path(tag_id: tag.id, query: params[:query], page: 1) %>
                            <% end %>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Blog Page Two Area end -->

<!-- Lets Talk Area start -->
<%= render 'shared/lets_talk' %>
<!-- Lets Talk Area end -->
   
<!-- Headline area start -->
<%= render 'shared/green_headline' %>
<!-- Headline Area end -->